# 4μ¥. ν‚¤μ™€ μ£Όμ† <!-- omit in toc -->

> π“– μ›λ¬Έ: [Mastering Bitcoin 2nd Endition - Chapter 04. Key, Addresses ](https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch04.asciidoc)

### λ©μ°¨

- [κ°μ”](#κ°μ”)
- [κ³µκ°ν‚¤ μ•”νΈν•™κ³Ό μ•”νΈν™”ν](#κ³µκ°ν‚¤-μ•”νΈν•™κ³Ό-μ•”νΈν™”ν)
- [κ°μΈν‚¤μ™€ κ³µκ°ν‚¤](#κ°μΈν‚¤μ™€-κ³µκ°ν‚¤)
- [κ°μΈν‚¤](#κ°μΈν‚¤)
  - [λ‚μμ—μ„ κ°μΈν‚¤ μƒμ„±ν•κΈ°](#λ‚μμ—μ„-κ°μΈν‚¤-μƒμ„±ν•κΈ°)
- [κ³µκ°ν‚¤](#κ³µκ°ν‚¤)
- [νƒ€μ› κ³΅μ„  μ•”νΈν•™(Elliptic curve cryptography)](#νƒ€μ›-κ³΅μ„ -μ•”νΈν•™elliptic-curve-cryptography)
- [κ³µκ°ν‚¤ μƒμ„±ν•κΈ°](#κ³µκ°ν‚¤-μƒμ„±ν•κΈ°)
- [λΉ„νΈμ½”μΈ μ£Όμ†](#λΉ„νΈμ½”μΈ-μ£Όμ†)
  - [Base58κ³Ό Base58Check μΈμ½”λ”©](#base58κ³Ό-base58check-μΈμ½”λ”©)
- [ν‚¤ ν¬λ§·](#ν‚¤-ν¬λ§·)
  - [κ°μΈν‚¤ ν¬γ……](#κ°μΈν‚¤-ν¬γ……)
  - [Base58Chck](#base58chck)

---

- λΉ„νΈμ½”μΈμ€ μν•™μ ν• λ¶„μ•ΌμΈ μ•”νΈν•™(cryptography)μ„ κΈ°λ°μΌλ΅ ν•λ‹¤. 
- κ·Έλ¦¬μ¤μ–΄λ΅ μ›λ¬Έμ„ κ°μ¶”λ” λΉ„λ°€ κΈ€μ“°κΈ°(secret writing)λ¥Ό λ»ν•κ³  μ΄λ¥Ό μ•”νΈν™”(encryption)λΌ ν•λ‹¤. 
- μ΄ μ™Έμ—λ„ λΉ„λ°€μ„ λ“λ¬λ‚΄μ§€ μ•κ³  λΉ„λ°€μ„ μ•κ³  μμμ„ μ¦λ…ν•λ” λ””μ§€ν„Έ μ„λ…(digital signature), λ°μ΄ν„°μ μ§„μ„(digital fingerprint)λ¥Ό μ¦λ…ν•λ”λ°μ—λ„ μ‚¬μ©λλ‹¤. - μ΄ μ¥μ—μ„λ” ν‚¤, μ£Όμ† λ° μ§€κ°‘μ ν•νƒλ΅ μκΈ μ†μ κ¶μ„ μ μ–΄ν•κΈ° μ„ν•΄ λΉ„νΈμ½”μΈμ— μ‚¬μ©λλ” μ•”νΈν•™μ„ μ†κ°ν•λ‹¤. 

## κ°μ”

- λΉ„νΈμ½”μΈμ μ†μ κ¶μ„ ν™•λ¦½ν•κΈ° μ„ν•΄μ„λ” λ””μ§€ν„Έ ν‚¤, λΉ„νΈμ½”μΈ μ£Όμ†, λ””μ§€ν„Έ μ„λ…μ΄ ν•„μ”ν•λ‹¤.
- λ””μ§€ν„Έ ν‚¤λ” λ„¤νΈμ›ν¬μ— λ³΄κ΄€λλ” κ²ƒμ΄ μ•„λ‹λΌ μ‚¬μ©μ μ§€κ°‘ μ†μ— μ €μ¥λλ‹¤.
- μ‚¬μ©μ μ§€κ°‘ μ† λ””μ§€ν„Έ ν‚¤λ” λΉ„νΈμ½”μΈ ν”„λ΅ν† μ½κ³Ό μ™„μ „ λ…λ¦½μ μΈ κ²ƒμΌλ΅, λΈ”λ΅μ²΄μΈμ΄λ‚ μΈν„°λ„· μ ‘μ† μ—†μ΄λ„ μ‚¬μ©μ μ§€κ°‘ μ†ν”„νΈμ›¨μ–΄λ΅ μƒμ„±ν•κ³  κ΄€λ¦¬ν•  μ μλ‹¤. 

- λ€λ¶€λ¶„ λΉ„νΈμ½”μΈ κ±°λμ—λ” λ””μ§€ν„Έ μ„λ…μ΄ ν•„μ”ν•λ‹¤.
- κΈμ•΅μ„ μ†λΉ„ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” λ””μ§€ν„Έ μ„λ…μ„ μ•”νΈν•™ μ©μ–΄λ΅ μ¦μΈ(witness)λΌκ³  ν•λ‹¤. 
- ν‚¤λ” κ°μΈν‚¤μ™€ κ³µκ°ν‚¤ ν• μμΌλ΅ κµ¬μ„±λλ‹¤. κ³µκ°ν‚¤λ” μ€ν–‰μ κ³„μΆλ²νΈμ™€, κ°μΈν‚¤λ” κ³„μΆμ λΉ„λ°€λ²νΈμ™€ μ μ‚¬ν•λ‹¤.
    - κ³µκ°ν‚¤ : λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό λ§λ“¤ λ• μ‚¬μ©λλ‹¤.
    - κ°μΈν‚¤ : κ±°λ μ‹ λ””μ§€ν„Έ μ„λ…μ— μ‚¬μ©λλ‹¤.

## κ³µκ°ν‚¤ μ•”νΈν•™κ³Ό μ•”νΈν™”ν

- κ³µκ°ν‚¤ μ•”νΈν•™μ€ 1970λ…„λ€μ— λ°λ…λμ–΄ μ»΄ν“¨ν„°μ™€ μ •λ³΄ λ³΄μ•μ ν† λ€κ°€ λμ—λ‹¤.
- κ³µκ°ν‚¤ μ•”νΈν•™μ λ°λ… μ΄ν›„ μ†μμ§€μ ν•¨μ, νƒ€μ›κ³΅μ„  κ³±μ… ν•¨μ λ“± μ ν•©ν• μν•™ ν•¨μκ°€ λ°κ²¬λμ—λ‹¤.
- μ΄λ¬ν• ν•¨μλ“¤μ νΉμ§•μ€ λ¶κ°€μ—­μ (irreversible)μ΄λΌλ” κ²ƒμΈλ° λ‹¤μ‹ λ§ν•΄, ν• λ°©ν–¥μΌλ΅ κ³„μ‚°ν•λ” κ²ƒμ€ μ‰½μ§€λ§ λ°λ€ λ°©ν–¥μΌλ΅ κ³„μ‚°ν•λ” κ²ƒμ€ μ‹¤ν–‰ λ¶κ°€λ¥ν•¨μ„ μλ―Έν•λ‹¤. 
- λ¶κ°€μ—­μ  ν•¨μ κΈ°λ°μ μ•”νΈν•™μ€ μ μ¶”ν•  μ μ—†λ” λΉ„λ°€ν‚¤μ™€ μ„μ΅° λ¶κ°€λ¥ν• λ””μ§€ν„Έ μ„λ…μ„ κ°€λ¥ν•κ² ν•λ‹¤. 

- λΉ„νΈμ½”μΈμ— μ ‘κ·Όν•λ” κ¶ν•μ„ μ£Όλ” ν• μμ ν‚¤λ¥Ό μƒμ„±ν•λ”λ°μ— κ³µκ°ν‚¤ μ•”νΈν•™μ΄ μ‚¬μ©λλ‹¤.
- ν• μμ ν‚¤λ” κ°μΈν‚¤μ™€ κ°μΈν‚¤λ΅λ¶€ν„° νμƒλ κ³ μ ν• κ³µκ°ν‚¤λ΅ κµ¬μ„±λλ‹¤. 
- κ³µκ°ν‚¤λ” λΉ„νΈμ½”μΈμ„ μ „μ†΅λ°›μ„ λ•, κ°μΈν‚¤λ” μ „μ†΅λ°›μ€ λΉ„νΈμ½”μΈμ„ μ†λΉ„ν•  λ• λ””μ§€ν„Έ μ„λ…μ„ μ„ν•΄ μ‚¬μ©λλ‹¤.
- κ³µκ°ν‚¤ μ•”νΈν•™μ μν•™μ  κ΄€κ³„ λ•λ¬Έμ—, κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ„λ…ν•κ³ , κ°μΈν‚¤ λ…Έμ¶ μ—†μ΄ κ³µκ°ν‚¤λ§μΌλ΅ μ ν¨μ„±μ„ ν™•μΈν•  μ μλ‹¤.

## κ°μΈν‚¤μ™€ κ³µκ°ν‚¤

- κ°μΈν‚¤λ” μ†λ¬Έμ kλ΅ ν‘κΈ°ν•κ³  λ€κ° λ¬΄μ‘μ„ μ¶”μ¶λ μ«μμ΄λ‹¤.
- λ¶κ°€μ—­μ„±μ„ κ°–λ” λ‹¨λ°©ν–¥ ν•¨μμΈ νƒ€μ›κ³΅μ„  κ³°μ… ν•¨μλ¥Ό μ΄μ©ν•μ—¬ κ°μΈν‚¤(k)λ΅λ¶€ν„° κ³µκ°ν‚¤(K)λ¥Ό κ³„μ‚°ν•λ‹¤.
- μ΄ μ¥μ—μ„λ” κ°μΈν‚¤ μƒμ„±, κ°μΈν‚¤λ΅λ¶€ν„° κ³µκ°ν‚¤ κ³„μ‚°, κ³µκ°ν‚¤λ΅λ¶€ν„° λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό μƒμ„±ν•λ” κ³Όμ •μ„ μ„¤λ…ν•λ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0401.png" width="500">
    <br>
      κ·Έλ¦Ό 1. κ°μΈν‚¤, κ³µκ°ν‚¤, λΉ„νΈμ½”μΈ μ£Όμ†μ κ΄€κ³„
  </figure>

## κ°μΈν‚¤

- κ°μΈν‚¤λ” λ¬΄μ‘μ„λ΅ μ¶”μ¶λ 256λΉ„νΈ κΈΈμ΄μ μ«μμ΄λ‹¤. 
- κ°μΈν‚¤μ μ†μ κ¶ λ° ν†µμ κ¶μ€ κ°μΈν‚¤λ¥Ό λ³΄μ ν• λ‹Ήμ‚¬μμ—κ² μκ³ , μ΄ κ°μΈν‚¤λ΅λ¶€ν„° μ¶”μ¶λ λΉ„νΈμ½”μΈ μ£Όμ†μ™€ μ—°κ΄€λ λ¨λ“  μκΈμ— λ€ν• κ¶ν•μ„ κ°–λ”λ‹¤.
- λ”°λΌμ„ μ  3μμ—κ² κ°μΈν‚¤λ¥Ό κ³µκ°ν•λ” κ²ƒμ€ λ¨λ“  λΉ„νΈμ½”μΈμ— λ€ν• ν†µμ κ¶μ„ λ„κ²¨μ£Όλ” κ²ƒκ³Ό κ°™λ‹¤.

### λ‚μμ—μ„ κ°μΈν‚¤ μƒμ„±ν•κΈ°

- ν‚¤λ¥Ό μƒμ„±ν•λ” κ³Όμ • μ¤‘ κ°€μ¥ μ¤‘μ”ν• μ²« λ‹¨κ³„λ” *λ³΄μ•μ΄ μ² μ €ν• μ—”νΈλ΅ν”Ό* λλ” λ¬΄μ‘μ„μ„±(randomness)μ„ μ°Ύλ” κ²ƒμ΄λ‹¤.
- μ¤‘μ”ν• κ²ƒμ€ μ—¬λ¬λ¶„μ΄ μ„ νƒν• μ«μκ°€ μμΈ΅ λλ” μ¬ν„ κ°€λ¥ν•μ§€ μ•μΌλ©΄ λλ‹¤. 
- λΉ„νΈμ½”μΈ μ†ν”„νΈμ›¨μ–΄λ” μ΄μμ²΄μ μ *λ‚μ μƒμ„±κΈ°(random number generator)*λ΅ 256λΉ„νΈ μ—”νΈλ΅ν”Όλ¥Ό λ§λ“ λ‹¤.
- 256λΉ„νΈ κ°μΈν‚¤λ” 16μ§„λ²• ν•μ‹μΌλ΅ ν‘ν„λλ‹¤.
  ```1E99423A4ED27608A15A2616A2B0E9E52CED330AC530EDCC32C8FFC6A526AEDD``` 


  > π’΅ μ•”νΈν•™μ μΌλ΅ μ•μ „ν• μ μ‚¬λ‚μμƒμ„±κΈ°(CSPRNG) μ‚¬μ©ν•κΈ°
  >
  > λ‚μ μƒμ„±μ„ μ„ν•΄ μμ²΄ μ½”λ“λ¥Ό μ‚¬μ©ν•κ±°λ‚ ν”„λ΅κ·Έλλ° μ–Έμ–΄κ°€ μ κ³µν•λ” λ‹¨μν• λ‚μμƒμ„±κΈ°λ¥Ό μ‚¬μ©ν•λ©΄ μ•λλ‹¤. μ•”νΈν•™μ μΌλ΅ μ•μ „ν• μ μ‚¬λ‚μμƒμ„±κΈ°(Cryptographically secure pseudorandom number generator)λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤. ν‚¤μ λ³΄μ•μ„±μ— μμ–΄ μ¬λ°”λ¥Έ CSPRNGλ¥Ό κµ¬ν„ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.

  > π’΅ 2<sup>256</sup>μ μλ―Έ
  >
  > 2<sup>256</sup>μ€ 10μ§„λ²•μΌλ΅ ν‘μ‹ν•λ©΄ 10<sup>77</sup> μ •λ„μ΄λ‹¤. </br>
  > λΉ„κµν•μλ©΄ κ°€μ‹μ μΈ μ°μ£Όλ” 10<sup>80</sup>κ°μ μ›μλ΅ κµ¬μ„±λμ–΄ μλ‹¤κ³  μ¶”μ •λλ‹¤.

## κ³µκ°ν‚¤

- κ³µκ°ν‚¤λ” νƒ€μ›κ³΅μ„  κ³±μ… ν•¨μλ¥Ό μ΄μ©ν•μ—¬ κ°μΈν‚¤λ΅λ¶€ν„° κ³„μ‚°λκ³  κ·Έ κ³Όμ •μ„ κ±°κΎΈλ΅ μ§„ν–‰ν•  μλ” μ—†λ‹¤.
  </br>
  ```K = k * G```
- kλ” κ°μΈν‚¤μ΄λ‹¤. 
- Gλ” μƒμλ΅ μƒμ„±μ (Generator point)μ΄λΌ ν•λ‹¤.
- * μ—°μ‚°μ€ λ‹¨μ κ³±μ…μ΄ μ•„λ‹ νƒ€μ›κ³΅μ„ μ μ  κ³±μ…(point multiplication)μ΄λ‹¤. 
- k * Gμ κ³„μ‚° κ²°κ³Όκ°€ κ³µκ°ν‚¤ Kμ΄λ‹¤. 

## νƒ€μ› κ³΅μ„  μ•”νΈν•™(Elliptic curve cryptography)

- νƒ€μ› κ³΅μ„  μ•”νΈν•™μ€ μ΄μ‚°λ΅κ·Έ(discrete logarithm) λ¬Έμ λ¥Ό κΈ°λ°μΌλ΅ ν•λ‹¤. 
- μ΄μ‚°λ΅κ·Έ λ¬Έμ λ” ν• λ°©ν–¥μΌλ΅μ κ³„μ‚°μ€ μ‰¬μ°λ‚ λ°λ€λ°©ν–¥μΌλ΅μ κ³„μ‚°μ€ λ¶κ°€λ¥ν• νΈλ© λ„μ–΄(trapdoor) ν•¨μμ μΌμΆ…μ΄λ‹¤. 
- νƒ€μ› κ³΅μ„  μ„μ μ  λ§μ…(point addition)μ΄λ‚ μ  κ³±μ…(point multiplication)μΌλ΅ ν‘ν„λλ‹¤.
- κ·Έλ¦Όμ€ νƒ€μ› κ³΅μ„ μ ν• μλ΅ λΉ„νΈμ½”μΈμ—μ„ μ‚¬μ©ν•λ” κ²ƒκ³Ό μ μ‚¬ν•λ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0402.png" width="350">
    <br>
      κ·Έλ¦Ό 1. νƒ€μ› κ³΅μ„ μ μ
  </figure>


- λΉ„νΈμ½”μΈμ€ λ―Έκµ­λ¦½ν‘μ¤€κΈ°μ μ›(NIST)μ—μ„ κ°λ°ν• secp256k1 ν‘μ¤€μ„ μ‚¬μ©ν•λ‹¤.
- secp256k1μ€ μ•„λ ν•¨μλ΅ μ •μλλ‹¤.
  $$
  \begin{aligned}
   & y^{2} = (x^3 + 7 ) \ over \ (F_p) \\
   & y^{2} \ mod \ p = (x^3 + 7 ) \ mod \ p 
  \end{aligned}$$
- $p$λ¥Ό μ†μμ„μ(prime order)λΌ ν•λ©° $p = 2^{256} - 2^{32} - 2^9 - 2^8 - 2^6 - 2^4 -1$λ΅ λ§¤μ° ν° μ†μμ΄λ‹¤. 
- ν•¨μ μ‹μ—μ„ λ³Ό μ μλ” κ²ƒμ²λΌ $mod \ p$ μ—°μ‚°μ— μν•΄ μ΄ κ³΅μ„ μ€ pμ μ ν•μ²΄(finite field, $F$) μ²΄μ  λ‚΄μ— μ΅΄μ¬ν•λ‹¤. ($over \ F_p$ λλ” $F(p)$)
- λ‹¤λ§ μ΄ κ³΅μ„ μ€ μ‹¤μ μ²΄μ κ°€ μ•„λ‹ μ†μμ„μ μ²΄μ μ—μ„ μ •μλλ―€λ΅ 2μ°¨μ› κ·Έλν”„μ— λ¶„ν¬ν• μ λ“¤λ΅ ν‘ν„λμ–΄ μ‹κ°ν™”ν•κΈ°κ°€ μ‰½μ§€ μ•λ‹¤. 
- secp256k1 νƒ€μ› κ³΅μ„ μ κ²½μ° ν—¤μ•„λ¦΄ μ μ—†μ΄ ν° κ²©μ μ„μ— ν›¨μ”¬ λ” λ³µμ΅ν• ν¨ν„΄μΌλ΅ μ μ΄ μ°ν€μλ” ν•νƒλ¥Ό μƒκ°ν•΄λ³Ό μ μλ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0403.png" width="350">
    <br>
      κ·Έλ¦Ό 2. p=17μΈ κ²½μ°, F(p)μ— λ€ν• νƒ€μ› κ³΅μ„ μ μ‹κ°ν™”
  </figure>

- μ•„λλ” secp256k1 κ³΅μ„  μ„μ ν• μ μ μΆν‘ Pλ¥Ό λ‚νƒ€λ‚Έλ‹¤.
  ```
  P = (55066263022277343669578718895168534326250603453777594175500187360389116729240, 32670510020758816978083085130507043184471273380659243275938904335757337482424)
  ```
- νƒ€μ› κ³΅μ„  ν•¨μμ—λ” λ¬΄ν•μ›μ (point at infinity)λΌλ” μ μ΄ μλ”λ°, μ΄λ” λ§μ…μ—μ„ 0μ μ—­ν• (ν•­λ“±μ›)κ³Ό μ μ‚¬ν•λ‹¤.
- νƒ€μ› κ³΅μ„ μ—λ” λ§μ… μ—°μ‚°μκ°€ μλ‹¤. (+)
- νƒ€μ› κ³΅μ„  μ„μ λ‘ μ  P<sub>1</sub>, P<sub>2</sub>μ— λ€ν•΄ κ³΅μ„  μ„μ— μ΅΄μ¬ν•λ” λ λ‹¤λ¥Έ μ  P<sub>3</sub> = P<sub>1</sub> + P<sub>2</sub>κ°€ μ΅΄μ¬ν•λ‹¤.
- νƒ€μ› κ³΅μ„ μ μ  λ§μ…μ€ κΈ°ν•ν•™μ μΌλ΅ P<sub>1</sub>κ³Ό P<sub>2</sub>λ¥Ό μ‡λ” μ§μ„ μ΄ νƒ€μ›κ³΅μ„ κ³Ό λ§λ‚λ” κµμ°¨μ  P<sub>3</sub>' = (x, y)λ¥Ό xμ¶•μ— λ€μΉ­μ‹ν‚¨ μ  P<sub>3</sub> = (x, -y)λ΅ μ–»λ”λ‹¤. 
- P<sub>1</sub>κ³Ό P<sub>2</sub>κ°€ λ™μΌν• μ μΈ κ²½μ°, P<sub>1</sub>κ³Ό P<sub>2</sub>λ¥Ό μ‡λ” μ§μ„ μ€ κ³΅μ„ κ³Ό P<sub>1</sub>μ μ ‘μ„ μ΄ λλ‹¤. 
- κ°™μ€ λ°©μ‹μ€ 2P = P + P, 3P = 2P + P ... λ¥Ό κµ¬ν•  μ μλ‹¤. 
- μ΄κ²ƒμ€ κ²°κµ­ νƒ€μ› κ³΅μ„ μ μ  κ³±μ…μ„ μ •μν•λ‹¤. k * Pλ” μ  Pλ¥Ό kλ² μ  λ§μ…ν• κ²°κ³Όμ΄λ‹¤.



## κ³µκ°ν‚¤ μƒμ„±ν•κΈ°

- λ¬΄μ‘μ„λ΅ μƒμ„±λ μ«μ k, μ¦‰ κ°μΈν‚¤λ¥Ό μ¶λ°μ μΌλ΅ κ³΅μ„  μ„ λ―Έλ¦¬ μ •ν•΄μ§„ κ°’ G(μƒμ„±μ )λ¥Ό κ³±ν• κ²°κ³Όκ°€ κ³µκ°ν‚¤ Kμ΄λ‹¤. 
- μ•μ„ λ³Έ κ²ƒμ²λΌ κ³„μ‚°μ€ ν• λ°©ν–¥μΌλ΅λ§ κ°€λ¥ν•κΈ° λ•λ¬Έμ— κ°μΈν‚¤λ” κ³µκ°ν‚¤λ¥Ό λ§λ“¤ μ μμ§€λ§, κ³µκ°ν‚¤λ΅ κ°μΈν‚¤λ¥Ό μ—­μ‚°ν•  μ μ—†λ‹¤.
- μƒμ„±μ  Gλ” μƒμλ΅ secp256k1μ„ μ‚¬μ©ν•λ” μ‚¬μ©μλ” λ¨λ‘ λ™μΌν• κ°’μ„ μ‚¬μ©ν•λ‹¤.
- Gλ” μ•„λμ™€ κ°™μ€ μΆν‘μ΄λ‹¤. (04λ” λΉ„μ••μ¶• ν•νƒλ¥Ό μλ―Έν•λ©°, 79BE667E ~ 16F81798κ°€ xμΆν‘λ¥Ό λ‚νƒ€λ‚Έλ‹¤. μ΄ν• y μΆν‘μ΄λ‹¤.)
  ```
  G = 
  04 
  79BE667E F9DCBBAC 55A06295 CE870B07 029BFCDB 2DCE28D9 59F2815B 16F81798 
  483ADA77 26A3C465 5DA4FBFC 0E1108A8 FD17B448 A6855419 9C47D08F FB10D4B8
  ```
- μ•μ„ μƒμ„±ν• κ°μΈν‚¤ kμ— μƒμ„±μ  Gλ¥Ό κ³±ν•΄μ„ κ³µκ°ν‚¤ Kλ¥Ό κµ¬ν•  μ μλ‹¤.
  ```
  K = 1E99423A4ED27608A15A2616A2B0E9E52CED330AC530EDCC32C8FFC6A526AEDD * G
  ```
- κ³µκ°ν‚¤ Kλ„ νƒ€μ› κ³΅μ„  μ„μ ν• μ μΌλ΅ μ •μλλ‹¤. 
  ```
  K = (x, y)

  where,

  x = F028892BAD7ED57D2FB57BF33081D5CFCF6F9ED3D3D7F159C2E2FFF579DC341A
  y = 07CF33DA18BD734C600B96A72BBC4749D5141C90EC8AC328AE52DDFE2E505BDB
  ```

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0404.png" width="350">
    <br>
      κ·Έλ¦Ό 3. νƒ€μ› κ³΅μ„  μ•”νΈν•™: κ³΅μ„  μ„ μ  Gμ™€ kμ κ³±μ„ μ‹κ°ν™”ν• κ·Έλ¦Ό
    <br>
      (μ¶μ²: https://blog.somi.me/math/2019/06/10/understanding-ECC-ECDSA/)
  </figure>

## λΉ„νΈμ½”μΈ μ£Όμ†

- λΉ„νΈμ½”μΈ μ£Όμ†λ” κ³µκ°ν‚¤λ΅λ¶€ν„° λ‹¨λ°©ν–¥ μ•”νΈν™”λ¥Ό ν†µν•΄ λ§λ“¤μ–΄λ‚Έλ‹¤. 
- μ—¬κΈ°μ—λ” SHA256κ³Ό RIPEMD160 ν•΄μ‹κ°€ μ‚¬μ©λλ©° κ·Έ κ²°κ³Ό 160λΉ„νΈμ μ«μκ°€ μƒμ„±λλ‹¤.
  ```
  A = RIEMD160(SHA256(K)), Kλ” κ³µκ°ν‚¤
  ```
- κ²°κ³Όκ°’ Aλ” κ±°μ ν•­μƒ Base58Checkλ΅ μΈμ½”λ”©λλ‹¤.

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0405.png" width="500">
    <br>
      κ·Έλ¦Ό 4. κ³µκ°ν‚¤λ¥Ό λΉ„νΈμ½”μΈ μ£Όμ†λ΅ λ³€ν™ν•λ” κ³Όμ •
  </figure>

### Base58κ³Ό Base58Check μΈμ½”λ”©

- Base58μ€ μ†λ¬Έμ 26κ°, λ€λ¬Έμ 26κ°, μ«μ 10κ°, λ‘ κ°μ νΉμλ¬Έμ '+', '/' μ΄ 64κ°μ λ¬Έμ(Base64) μ¤‘ κ°€λ…μ„±μ„ μ €ν•΄ν•λ” 4κ°μ λ¬Έμ(0 μ«μ μ, O λ€λ¬Έμ μ¤, l μ†λ¬Έμ μ—, I λ€λ¬Έμ μ•„μ΄)μ™€ νΉμλ¬Έμ(+, -)λ¥Ό μ μ™Έν• 58κ°μ λ¬Έμλ¥Ό κΈ°λ°μΌλ΅ν•λ” 2μ§„λ²• μΈμ½”λ”© ν¬λ§·μ΄λ‹¤.
- Base58Checkλ” μ¤νƒ€, λ°μ΄ν„° μ…λ ¥ μ¤λ¥ λ“±μ— λ€ν• μ¶”κ°€μ μΈ λ³΄μ•μ„ κ°•ν™”ν•κΈ° μ„ν•΄ _μ¤λ¥ κ²€μ‚¬ μ½”λ“κ°€ λ‚΄μ¥λμ–΄ μλ”_ Base58 μΈμ½”λ”© ν¬λ§·μ΄λ‹¤. 
- μ¤λ¥ κ²€μ‚¬ μ½”λ“, μ²΄ν¬μ„¬μ€ λ°μ΄ν„°μ ν•΄μ‹λ΅λ¶€ν„° νμƒλ 4λ°”μ΄νΈλ΅ λ°μ΄ν„° λ’¤μ— μ¶”κ°€λλ‹¤.
- λ°μ΄ν„°λ¥Ό Base58Check ν¬λ§·μΌλ΅ μ „ν™ν•κΈ° μ„ν•΄μ„λ” λ²„μ „ λ°”μ΄νΈ(version byte)λΌ λ¶λ¦¬λ” μ ‘λ‘λ¶€λ¥Ό λ¶™μΈλ‹¤. μ ‘λ‘λ¶€ κ²°κ³Όκ°’μ΄ νΉμ • λ¬Έμλ¥Ό ν¬ν•¨ν•κΈ° λ•λ¬Έμ— λ°μ΄ν„° μ ν•μ„ μ‰½κ² μ•μ•„λ³Ό μ μλ‹¤.

  | μ ν• | λ²„μ „ μ ‘λ‘λ¶€(16μ§„μ) | Base58 μ ‘λ‘λ¶€ κ²°κ³Όκ°’ |
  | --- | ---------------- | ----------------- |
  | λΉ„νΈμ½”μΈ μ£Όμ†             | 0x00  | 1         | 
  | Pay-to-Script-Address  | 0x05  | 3         |
  | λΉ„νΈμ½”μΈ ν…μ¤νΈλ„· μ£Όμ†      | 0x6F  | m νΉμ€ n   | 
  | κ°μΈν‚¤ WIF              | 0x80  | 5, K νΉμ€ L | 
  | BIP-38 μ•”νΈν™” κ°μΈν‚¤      | 0x0142 | 6P       |
  | BIP-32 ν™•μ¥ κ³µκ°ν‚¤       | 0x0488B21E | xpub |

- μ²΄ν¬μ„¬μ€ μ ‘λ‘λ¶€μ™€ λ°μ΄ν„°λ¥Ό λ‘ λ² SHA256ν• 32λ°”μ΄νΈ κ²°κ³Όκ°’μ μ²« 4λ°”μ΄νΈλ§μ„ μ‚¬μ©ν•λ‹¤. 
  ```
  checksum = SHA256(SHA256(prefix + data))
  ```
- μµμΆ… κ²°κ³Όκ°’μ€ μ ‘λ‘λ¶€, λ°μ΄ν„°, μ²΄ν¬μ„¬μΌλ΅ κµ¬μ„±λλ‹¤. μ΄ κ°’μ„ Base58 μΈμ½”λ”©ν•λ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0406.png" width="500">
    <br>
      κ·Έλ¦Ό 4. Base58Check μΈμ½”λ”©: 
    <br>
      λΉ„νΈμ½”μΈ λ°μ΄ν„°λ¥Ό λ¨νΈν•μ§€ μ•κ² μΈμ½”λ”©ν•κΈ° μ„ν• Base58, λ²„μ „ λ° μ²΄ν¬μ„¬ ν•μ‹
  </figure>

## ν‚¤ ν¬λ§·

### κ°μΈν‚¤ ν¬λ§·
===== Private key formats

### Base58Checkλ¥Ό 16μ§„λ²•μΌλ΅ λ””μ½”λ”©ν•κΈ°
===== Decode from Base58Check

### 16μ§„λ²•μ—μ„ Base58Checkλ΅ μΈμ½”λ”©ν•κΈ°
===== Encode from hex to Base58Check

### μ••μ¶•ν‚¤ 16μ§„λ²•μ—μ„ Base58Checkλ΅ μΈμ½”λ”©ν•κΈ°
===== Encode from hex (compressed key) to Base58Check

### κ³µκ°ν‚¤ ν¬λ§·
===== Public key formats

### μ••μ¶• κ³µκ°ν‚¤
===== Compressed public keys

### μ••μ¶• κ°μΈν‚¤
===== Compressed private keys

## κ³ κΈ‰ν‚¤μ™€ μ£Όμ†
=== Advanced Keys and Addresses

### λ‹¤μ¤‘μ„λ… μ£Όμ†μ™€ P2SH
===== Multisignature addresses and P2SH

## κΎΈλ―ΈκΈ° μ£Όμ†
==== Vanity Addresses

===== Generating vanity addresses

===== Vanity address security

==== Paper Wallets