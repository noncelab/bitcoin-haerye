# 4μ¥. ν‚¤μ™€ μ£Όμ† <!-- omit in toc -->

> π“– μ›λ¬Έ: [Mastering Bitcoin 2nd Edition - Chapter 04. Key, Addresses ](https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch04.asciidoc)

### λ©μ°¨

- [κ°μ”](#κ°μ”)
- [κ³µκ°ν‚¤ μ•”νΈν•™κ³Ό μ•”νΈν™”ν](#κ³µκ°ν‚¤-μ•”νΈν•™κ³Ό-μ•”νΈν™”ν)
- [κ°μΈν‚¤μ™€ κ³µκ°ν‚¤](#κ°μΈν‚¤μ™€-κ³µκ°ν‚¤)
- [κ°μΈν‚¤](#κ°μΈν‚¤)
  - [λ‚μμ—μ„ κ°μΈν‚¤ μƒμ„±ν•κΈ°](#λ‚μμ—μ„-κ°μΈν‚¤-μƒμ„±ν•κΈ°)
- [κ³µκ°ν‚¤](#κ³µκ°ν‚¤)
- [νƒ€μ› κ³΅μ„  μ•”νΈν•™(Elliptic curve cryptography)](#νƒ€μ›-κ³΅μ„ -μ•”νΈν•™elliptic-curve-cryptography)
- [κ³µκ°ν‚¤ μƒμ„±ν•κΈ°](#κ³µκ°ν‚¤-μƒμ„±ν•κΈ°)
- [λΉ„νΈμ½”μΈ μ£Όμ†](#λΉ„νΈμ½”μΈ-μ£Όμ†)
  - [Base58κ³Ό Base58Check μΈμ½”λ”©](#base58κ³Ό-base58check-μΈμ½”λ”©)
- [ν‚¤ ν¬λ§·](#ν‚¤-ν¬λ§·)
  - [κ°μΈν‚¤ ν¬λ§·](#κ°μΈν‚¤-ν¬λ§·)
  - [κ³µκ°ν‚¤ ν¬λ§·](#κ³µκ°ν‚¤-ν¬λ§·)
  - [μ••μ¶• κ³µκ°ν‚¤](#μ••μ¶•-κ³µκ°ν‚¤)
  - [μ••μ¶• κ°μΈν‚¤](#μ••μ¶•-κ°μΈν‚¤)
- [κ³ κΈ‰ν‚¤μ™€ μ£Όμ†](#κ³ κΈ‰ν‚¤μ™€-μ£Όμ†)
  - [Pay-to-Script-Hash(P2SH)μ™€ λ‹¤μ¤‘μ„λ… μ£Όμ†](#pay-to-script-hashp2shμ™€-λ‹¤μ¤‘μ„λ…-μ£Όμ†)
  - [λ‹¤μ¤‘μ„λ… μ£Όμ†μ™€ P2SH](#λ‹¤μ¤‘μ„λ…-μ£Όμ†μ™€-p2sh)
  - [Vanity μ£Όμ†](#vanity-μ£Όμ†)
    - [Vanity μ£Όμ† μƒμ„±ν•κΈ°](#vanity-μ£Όμ†-μƒμ„±ν•κΈ°)
    - [Vanity μ£Όμ† λ³΄μ•](#vanity-μ£Όμ†-λ³΄μ•)
  - [μΆ…μ΄ μ§€κ°‘](#μΆ…μ΄-μ§€κ°‘)

---

<br>

- λΉ„νΈμ½”μΈμ€ μν•™μ ν• λ¶„μ•ΌμΈ μ•”νΈν•™(cryptography)μ„ κΈ°λ°μΌλ΅ ν•λ‹¤. 
- κ·Έλ¦¬μ¤μ–΄λ΅ μ›λ¬Έμ„ κ°μ¶”λ” λΉ„λ°€ κΈ€μ“°κΈ°(secret writing)λ¥Ό λ»ν•κ³  μ•”νΈν•™μ—μ„ μ΄λ¥Ό encryptionμ΄λΌ ν•λ‹¤. 
- μ›λ¬Έμ„ κ°μ¶”λ” κ²ƒ μ™Έμ—λ„ λΉ„λ°€μ„ λ“λ¬λ‚΄μ§€ μ•κ³  λΉ„λ°€μ„ μ•κ³  μμμ„ μ¦λ…ν•λ” λ””μ§€ν„Έ μ„λ…(digital signature), λ°μ΄ν„°μ μ§„μ„(digital fingerprint)λ¥Ό μ¦λ…ν•λ”λ°μ— μ•”νΈν•™μ΄ μ‚¬μ©λλ‹¤. 
- μ΄ μ¥μ—μ„λ” μκΈ μ†μ κ¶μ„ μ μ–΄ν•κΈ° μ„ν•΄ λΉ„νΈμ½”μΈμ ν‚¤, μ£Όμ† λ° μ§€κ°‘μ— μ‚¬μ©λλ” μ•”νΈν•™μ„ μ†κ°ν•λ‹¤. 

<br>

## κ°μ”

- λΉ„νΈμ½”μΈμ μ†μ κ¶μ„ ν™•λ¦½ν•κΈ° μ„ν•΄μ„λ” λ””μ§€ν„Έ ν‚¤, λΉ„νΈμ½”μΈ μ£Όμ†, λ””μ§€ν„Έ μ„λ…μ΄ ν•„μ”ν•λ‹¤.
- λ””μ§€ν„Έ ν‚¤λ” λ„¤νΈμ›ν¬μ— λ³΄κ΄€λλ” κ²ƒμ΄ μ•„λ‹λΌ μ‚¬μ©μ μ§€κ°‘ μ†μ— μ €μ¥λλ‹¤.
- μ‚¬μ©μ μ§€κ°‘ μ† λ””μ§€ν„Έ ν‚¤λ” λΉ„νΈμ½”μΈ ν”„λ΅ν† μ½κ³Ό μ™„μ „ λ…λ¦½μ μΈ κ²ƒμΌλ΅, λΈ”λ΅μ²΄μΈμ΄λ‚ μΈν„°λ„· μ ‘μ† μ—†μ΄λ„ μ‚¬μ©μ μ§€κ°‘ μ†ν”„νΈμ›¨μ–΄λ΅ μƒμ„±ν•κ³  κ΄€λ¦¬ν•  μ μλ‹¤. 

- λ€λ¶€λ¶„ λΉ„νΈμ½”μΈ κ±°λμ—λ” λ””μ§€ν„Έ μ„λ…μ΄ ν•„μ”ν•λ‹¤.
- κΈμ•΅μ„ μ†λΉ„ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” λ””μ§€ν„Έ μ„λ…μ„ μ•”νΈν•™ μ©μ–΄λ΅ μ¦μΈ(witness)λΌκ³  ν•λ‹¤. 
- ν‚¤λ” κ°μΈν‚¤μ™€ κ³µκ°ν‚¤ ν• μμΌλ΅ κµ¬μ„±λλ‹¤. κ³µκ°ν‚¤λ” μ€ν–‰μ κ³„μΆλ²νΈμ™€, κ°μΈν‚¤λ” κ³„μΆμ λΉ„λ°€λ²νΈμ™€ μ μ‚¬ν•λ‹¤.
    - κ³µκ°ν‚¤ : λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό λ§λ“¤ λ• μ‚¬μ©λλ‹¤.
    - κ°μΈν‚¤ : κ±°λ μ‹ λ””μ§€ν„Έ μ„λ…μ— μ‚¬μ©λλ‹¤.

<br>


## κ³µκ°ν‚¤ μ•”νΈν•™κ³Ό μ•”νΈν™”ν

- κ³µκ°ν‚¤ μ•”νΈν•™μ€ 1970λ…„λ€μ— λ°λ…λμ–΄ μ»΄ν“¨ν„°μ™€ μ •λ³΄ λ³΄μ•μ ν† λ€κ°€ λμ—λ‹¤.
- κ³µκ°ν‚¤ μ•”νΈν•™μ λ°λ… μ΄ν›„ μ†μμ§€μ ν•¨μ, νƒ€μ›κ³΅μ„  κ³±μ… ν•¨μ λ“± μ ν•©ν• μν•™ ν•¨μκ°€ λ°κ²¬λμ—λ‹¤.
- μ΄λ¬ν• ν•¨μλ“¤μ νΉμ§•μ€ λ¶κ°€μ—­μ (irreversible)μ΄λΌλ” κ²ƒμΈλ° λ‹¤μ‹ λ§ν•΄, ν• λ°©ν–¥μΌλ΅ κ³„μ‚°ν•λ” κ²ƒμ€ μ‰½μ§€λ§ λ°λ€ λ°©ν–¥μΌλ΅ κ³„μ‚°ν•λ” κ²ƒμ€ μ‹¤ν–‰ λ¶κ°€λ¥ν•¨μ„ μλ―Έν•λ‹¤. 
- λ¶κ°€μ—­μ  ν•¨μ κΈ°λ°μ μ•”νΈν•™μ€ μ μ¶”ν•  μ μ—†λ” λΉ„λ°€ν‚¤μ™€ μ„μ΅° λ¶κ°€λ¥ν• λ””μ§€ν„Έ μ„λ…μ„ κ°€λ¥ν•κ² ν•λ‹¤. 

- λΉ„νΈμ½”μΈμ— μ ‘κ·Όν•λ” κ¶ν•μ„ μ£Όλ” ν• μμ ν‚¤λ¥Ό μƒμ„±ν•λ”λ°μ— κ³µκ°ν‚¤ μ•”νΈν•™μ΄ μ‚¬μ©λλ‹¤.
- ν• μμ ν‚¤λ” κ°μΈν‚¤μ™€ κ°μΈν‚¤λ΅λ¶€ν„° νμƒλ κ³ μ ν• κ³µκ°ν‚¤λ΅ κµ¬μ„±λλ‹¤. 
- κ³µκ°ν‚¤λ” λΉ„νΈμ½”μΈμ„ μ „μ†΅λ°›μ„ λ•, κ°μΈν‚¤λ” μ „μ†΅λ°›μ€ λΉ„νΈμ½”μΈμ„ μ†λΉ„ν•  λ• λ””μ§€ν„Έ μ„λ…μ„ μ„ν•΄ μ‚¬μ©λλ‹¤.
- κ³µκ°ν‚¤ μ•”νΈν•™μ μν•™μ  κ΄€κ³„ λ•λ¬Έμ—, κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ„λ…ν•κ³ , κ°μΈν‚¤ λ…Έμ¶ μ—†μ΄ κ³µκ°ν‚¤λ§μΌλ΅ μ ν¨μ„±μ„ ν™•μΈν•  μ μλ‹¤.

<br>


## κ°μΈν‚¤μ™€ κ³µκ°ν‚¤

- κ°μΈν‚¤λ” μ†λ¬Έμ kλ΅ ν‘κΈ°ν•κ³  λ€κ° λ¬΄μ‘μ„ μ¶”μ¶λ μ«μμ΄λ‹¤.
- λ¶κ°€μ—­μ„±μ„ κ°–λ” λ‹¨λ°©ν–¥ ν•¨μμΈ νƒ€μ›κ³΅μ„  κ³±μ… ν•¨μλ¥Ό μ΄μ©ν•μ—¬ κ°μΈν‚¤(k)λ΅λ¶€ν„° κ³µκ°ν‚¤(K)λ¥Ό κ³„μ‚°ν•λ‹¤.
- μ΄ μ¥μ—μ„λ” κ°μΈν‚¤ μƒμ„±, κ°μΈν‚¤λ΅λ¶€ν„° κ³µκ°ν‚¤ κ³„μ‚°, κ³µκ°ν‚¤λ΅λ¶€ν„° λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό μƒμ„±ν•λ” κ³Όμ •μ„ μ„¤λ…ν•λ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0401.png" width="500">
    <br>
      κ·Έλ¦Ό 1. κ°μΈν‚¤, κ³µκ°ν‚¤, λΉ„νΈμ½”μΈ μ£Όμ†μ κ΄€κ³„
  </figure>

<br>

## κ°μΈν‚¤

- κ°μΈν‚¤λ” λ¬΄μ‘μ„λ΅ μ¶”μ¶λ 256λΉ„νΈ κΈΈμ΄μ μ«μμ΄λ‹¤. 
- κ°μΈν‚¤μ μ†μ κ¶ λ° ν†µμ κ¶μ€ κ°μΈν‚¤λ¥Ό λ³΄μ ν• λ‹Ήμ‚¬μμ—κ² μκ³ , μ΄ κ°μΈν‚¤λ΅λ¶€ν„° μ¶”μ¶λ λΉ„νΈμ½”μΈ μ£Όμ†μ™€ μ—°κ΄€λ λ¨λ“  μκΈμ— λ€ν• κ¶ν•μ„ κ°–λ”λ‹¤.
- λ”°λΌμ„ μ  3μμ—κ² κ°μΈν‚¤λ¥Ό κ³µκ°ν•λ” κ²ƒμ€ λ¨λ“  λΉ„νΈμ½”μΈμ— λ€ν• ν†µμ κ¶μ„ λ„κ²¨μ£Όλ” κ²ƒκ³Ό κ°™λ‹¤.

### λ‚μμ—μ„ κ°μΈν‚¤ μƒμ„±ν•κΈ°

- ν‚¤λ¥Ό μƒμ„±ν•λ” κ³Όμ • μ¤‘ κ°€μ¥ μ¤‘μ”ν• μ²« λ‹¨κ³„λ” *λ³΄μ•μ΄ μ² μ €ν• μ—”νΈλ΅ν”Ό* λλ” λ¬΄μ‘μ„μ„±(randomness)μ„ μ°Ύλ” κ²ƒμ΄λ‹¤.
- μ¤‘μ”ν• κ²ƒμ€ μ—¬λ¬λ¶„μ΄ μ„ νƒν• μ«μκ°€ μμΈ΅ λλ” μ¬ν„ κ°€λ¥ν•μ§€ μ•μΌλ©΄ λλ‹¤. 
- λΉ„νΈμ½”μΈ μ†ν”„νΈμ›¨μ–΄λ” μ΄μμ²΄μ μ *λ‚μ μƒμ„±κΈ°*(random number generator)λ΅ 256λΉ„νΈ μ—”νΈλ΅ν”Όλ¥Ό λ§λ“ λ‹¤.
- 256λΉ„νΈ κ°μΈν‚¤λ” 16μ§„λ²• ν•μ‹μΌλ΅ ν‘ν„λλ‹¤.
  ```1E99423A4ED27608A15A2616A2B0E9E52CED330AC530EDCC32C8FFC6A526AEDD``` 


  > π’΅ μ•”νΈν•™μ μΌλ΅ μ•μ „ν• μ μ‚¬λ‚μμƒμ„±κΈ°(CSPRNG) μ‚¬μ©ν•κΈ°
  >
  > λ‚μ μƒμ„±μ„ μ„ν•΄ μμ²΄ μ½”λ“λ¥Ό μ‚¬μ©ν•κ±°λ‚ ν”„λ΅κ·Έλλ° μ–Έμ–΄κ°€ μ κ³µν•λ” λ‹¨μν• λ‚μμƒμ„±κΈ°λ¥Ό μ‚¬μ©ν•λ©΄ μ•λλ‹¤. μ•”νΈν•™μ μΌλ΅ μ•μ „ν• μ μ‚¬λ‚μμƒμ„±κΈ°(Cryptographically secure pseudorandom number generator)λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤. ν‚¤μ λ³΄μ•μ„±μ— μμ–΄ μ¬λ°”λ¥Έ CSPRNGλ¥Ό κµ¬ν„ν•λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.

  > π’΅ 2<sup>256</sup>μ μλ―Έ
  >
  > 2<sup>256</sup>μ€ 10μ§„λ²•μΌλ΅ ν‘μ‹ν•λ©΄ 10<sup>77</sup> μ •λ„μ΄λ‹¤. </br>
  > λΉ„κµν•μλ©΄ κ°€μ‹μ μΈ(μΈκ°„μ΄ λ³Ό μ μλ” μ •λ„μ) μ°μ£Όλ” 10<sup>80</sup>κ°μ μ›μλ΅ κµ¬μ„±λμ–΄ μλ‹¤κ³  μ¶”μ •λλ‹¤.

<br>

## κ³µκ°ν‚¤

- κ³µκ°ν‚¤λ” νƒ€μ›κ³΅μ„  κ³±μ… ν•¨μλ¥Ό μ΄μ©ν•μ—¬ κ°μΈν‚¤λ΅λ¶€ν„° κ³„μ‚°λκ³  κ·Έ κ³Όμ •μ„ κ±°κΎΈλ΅ μ§„ν–‰ν•  μλ” μ—†λ‹¤.
  </br>
  ```K = k * G```
- kλ” κ°μΈν‚¤μ΄λ‹¤. 
- Gλ” μƒμλ΅ μƒμ„±μ (Generator point)μ΄λΌ ν•λ‹¤.
- `*` μ—°μ‚°μ€ λ‹¨μ κ³±μ…μ΄ μ•„λ‹ νƒ€μ›κ³΅μ„ μ μ  κ³±μ…(point multiplication)μ΄λ‹¤. 
- k * Gμ κ³„μ‚° κ²°κ³Όκ°€ κ³µκ°ν‚¤ Kμ΄λ‹¤. 

<br>

## νƒ€μ› κ³΅μ„  μ•”νΈν•™(Elliptic curve cryptography)

- νƒ€μ› κ³΅μ„  μ•”νΈν•™μ€ μ΄μ‚°λ΅κ·Έ(discrete logarithm) λ¬Έμ λ¥Ό κΈ°λ°μΌλ΅ ν•λ‹¤. 
- μ΄μ‚°λ΅κ·Έ λ¬Έμ λ” ν• λ°©ν–¥μΌλ΅μ κ³„μ‚°μ€ μ‰¬μ°λ‚ λ°λ€λ°©ν–¥μΌλ΅μ κ³„μ‚°μ€ λ¶κ°€λ¥ν• νΈλ© λ„μ–΄(trapdoor) ν•¨μμ μΌμΆ…μ΄λ‹¤. 
- νƒ€μ› κ³΅μ„  μ„μ μ  λ§μ…(point addition)μ΄λ‚ μ  κ³±μ…(point multiplication)μΌλ΅ ν‘ν„λλ‹¤.
- κ·Έλ¦Όμ€ νƒ€μ› κ³΅μ„ μ ν• μλ΅ λΉ„νΈμ½”μΈμ—μ„ μ‚¬μ©ν•λ” νƒ€μ› κ³΅μ„ κ³Ό μ μ‚¬ν•λ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/blob/develop/images/mbc3_0402.png" width="350">
    <br>
      κ·Έλ¦Ό 1. νƒ€μ› κ³΅μ„ μ μ
  </figure>


- λΉ„νΈμ½”μΈμ€ λ―Έκµ­λ¦½ν‘μ¤€κΈ°μ μ›(NIST)μ—μ„ κ°λ°ν• secp256k1 ν‘μ¤€μ„ μ‚¬μ©ν•λ‹¤.
- secp256k1μ€ μ•„λ ν•¨μλ΅ μ •μλλ‹¤.<br>
  $y^{2} = (x^3 + 7 ) \ over \ (F_p)$ λλ”  $y^{2} \ mod \ p = (x^3 + 7 ) \ mod \ p$
- $p$λ¥Ό μ†μμ„μ(prime order)λΌ ν•λ©° $p = 2^{256} - 2^{32} - 2^9 - 2^8 - 2^6 - 2^4 -1$λ΅ λ§¤μ° ν° μ†μμ΄λ‹¤. 
- ν•¨μ μ‹μ—μ„ λ³Ό μ μλ” κ²ƒμ²λΌ $mod \ p$ μ—°μ‚°μ— μν•΄ μ΄ κ³΅μ„ μ€ pμ μ ν•μ²΄(finite field, $F$) μ²΄μ  λ‚΄μ— μ΅΄μ¬ν•λ‹¤. ($over \ F_p$ λλ” F(p)λ΅ ν‘κΈ°)
- λ‹¤λ§ μ΄ κ³΅μ„ μ€ μ‹¤μ μ²΄μ κ°€ μ•„λ‹ μ†μμ„μ μ²΄μ μ—μ„ μ •μλλ―€λ΅ μ—„μ²­λ‚κ² ν° 2μ°¨μ› κ·Έλν”„μ— λ¶„ν¬ν• μ λ“¤λ΅ ν‘ν„λκΈ° λ•λ¬Έμ— μ‹κ°ν™”ν•κΈ°κ°€ μ‰½μ§€ μ•λ‹¤. 
- secp256k1 νƒ€μ› κ³΅μ„ μ κ²½μ° ν—¤μ•„λ¦΄ μ μ—†μ΄ ν° κ²©μ μ„μ— ν›¨μ”¬ λ” λ³µμ΅ν• ν¨ν„΄μΌλ΅ μ μ΄ μ°ν€μλ” ν•νƒλ¥Ό μƒκ°ν•΄λ³Ό μ μλ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/blob/develop/images/mbc3_0403.png" width="350">
    <br>
      κ·Έλ¦Ό 2. p=17μΈ κ²½μ°, F(p)μ— λ€ν• νƒ€μ› κ³΅μ„ μ μ‹κ°ν™”
  </figure>

- μ•„λλ” secp256k1 κ³΅μ„  μ„μ ν• μ μ μΆν‘ Pλ¥Ό λ‚νƒ€λ‚Έλ‹¤.
  ```
  P = (55066263022277343669578718895168534326250603453777594175500187360389116729240, 32670510020758816978083085130507043184471273380659243275938904335757337482424)
  ```
- νƒ€μ› κ³΅μ„  ν•¨μμ—λ” λ¬΄ν•μ›μ (point at infinity)λΌλ” μ μ΄ μλ”λ°, μ΄λ” λ§μ…μ—μ„ 0μ μ—­ν• (ν•­λ“±μ›, λ”ν•΄λ„ μκΈ° μμ‹ )κ³Ό μ μ‚¬ν•λ‹¤.
- νƒ€μ› κ³΅μ„ μ—λ„ λ§μ… μ—°μ‚°μ (+)κ°€ μλ‹¤. (μ•μ„ μ„¤λ…ν• μ  λ§μ…μ„ λ§ν•λ‹¤.)
- μ¦‰, νƒ€μ› κ³΅μ„  μ„μ λ‘ μ  P<sub>1</sub>, P<sub>2</sub>μ— λ€ν•΄ κ³΅μ„  μ„μ λ λ‹¤λ¥Έ μ  P<sub>3</sub> = P<sub>1</sub> + P<sub>2</sub>κ°€ μ΅΄μ¬ν•λ‹¤.
- νƒ€μ› κ³΅μ„ μ μ  λ§μ…μ€ κΈ°ν•ν•™μ μΌλ΅ P<sub>1</sub>κ³Ό P<sub>2</sub>λ¥Ό μ‡λ” μ§μ„ μ΄ νƒ€μ› κ³΅μ„ κ³Ό λ§λ‚λ” κµμ°¨μ  P<sub>3</sub>' = (x, y)λ¥Ό xμ¶•μ— λ€μΉ­μ‹ν‚¨ μ  P<sub>3</sub> = (x, -y)λ΅ μ–»λ”λ‹¤. 
- P<sub>1</sub>κ³Ό P<sub>2</sub>κ°€ λ™μΌν• μ μΈ κ²½μ°, P<sub>1</sub>κ³Ό P<sub>2</sub>λ¥Ό μ‡λ” μ§μ„ μ€ κ³΅μ„ κ³Ό P<sub>1</sub>μ μ ‘μ„ μ΄ λλ‹¤. 
- κ°™μ€ λ°©μ‹μ€ 2P = P + P, 3P = 2P + P ... λ¥Ό κµ¬ν•  μ μλ‹¤. 
- μ΄κ²ƒμ€ κ²°κµ­ νƒ€μ› κ³΅μ„ μ μ  κ³±μ…μ„ μ •μν•λ‹¤. k * Pλ” μ  Pλ¥Ό kλ² μ  λ§μ…ν• κ²°κ³Όμ΄λ‹¤.

<br>

## κ³µκ°ν‚¤ μƒμ„±ν•κΈ°

- λ¬΄μ‘μ„λ΅ μƒμ„±λ μ«μ k, μ¦‰ κ°μΈν‚¤λ¥Ό μ¶λ°μ μΌλ΅ κ³΅μ„  μ„ λ―Έλ¦¬ μ •ν•΄μ§„ κ°’ G(μƒμ„±μ )λ¥Ό κ³±ν• κ²°κ³Όκ°€ κ³µκ°ν‚¤ Kμ΄λ‹¤. 
- μ•μ„ λ³Έ κ²ƒμ²λΌ κ³„μ‚°μ€ ν• λ°©ν–¥μΌλ΅λ§ κ°€λ¥ν•κΈ° λ•λ¬Έμ— κ°μΈν‚¤λ” κ³µκ°ν‚¤λ¥Ό λ§λ“¤ μ μμ§€λ§, κ³µκ°ν‚¤λ΅ κ°μΈν‚¤λ¥Ό μ—­μ‚°ν•  μ μ—†λ‹¤.
- μƒμ„±μ  Gλ” μƒμλ΅ secp256k1μ„ μ‚¬μ©ν•λ” μ‚¬μ©μλ” λ¨λ‘ λ™μΌν• κ°’μ„ μ‚¬μ©ν•λ‹¤.
- Gλ” μ•„λμ™€ κ°™μ€ μΆν‘μ΄λ‹¤. (04λ” λΉ„μ••μ¶• ν•νƒλ¥Ό μλ―Έν•λ©°, 79BE667E ~ 16F81798κ°€ x μΆν‘λ¥Ό λ‚νƒ€λ‚Έλ‹¤. μ΄ν• y μΆν‘μ΄λ‹¤.)
  ```
  G = 
  04 
  79BE667E F9DCBBAC 55A06295 CE870B07 029BFCDB 2DCE28D9 59F2815B 16F81798 
  483ADA77 26A3C465 5DA4FBFC 0E1108A8 FD17B448 A6855419 9C47D08F FB10D4B8
  ```
- μ•μ„ μƒμ„±ν• κ°μΈν‚¤ kμ— μƒμ„±μ  Gλ¥Ό κ³±ν•΄μ„ κ³µκ°ν‚¤ Kλ¥Ό κµ¬ν•  μ μλ‹¤.
  ```
  K = 1E99423A4ED27608A15A2616A2B0E9E52CED330AC530EDCC32C8FFC6A526AEDD * G
  ```
- κ³µκ°ν‚¤ Kλ„ νƒ€μ› κ³΅μ„  μ„μ ν• μ μΌλ΅ μ •μλλ‹¤. 
  ```
  K = (x, y)

  where,

  x = F028892BAD7ED57D2FB57BF33081D5CFCF6F9ED3D3D7F159C2E2FFF579DC341A
  y = 07CF33DA18BD734C600B96A72BBC4749D5141C90EC8AC328AE52DDFE2E505BDB
  ```

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/blob/develop/images/mbc3_0404.png" width="350">
    <br>
      κ·Έλ¦Ό 3. νƒ€μ› κ³΅μ„  μ•”νΈν•™: κ³΅μ„  μ„ μ  Gμ™€ kμ κ³±μ„ μ‹κ°ν™”ν• κ·Έλ¦Ό
  </figure>

<br>

## λΉ„νΈμ½”μΈ μ£Όμ†

- λΉ„νΈμ½”μΈ μ£Όμ†λ” κ³µκ°ν‚¤λ΅λ¶€ν„° λ‹¨λ°©ν–¥ μ•”νΈν™”λ¥Ό ν†µν•΄ λ§λ“¤μ–΄λ‚Έλ‹¤. 
- μ—¬κΈ°μ—λ” SHA256κ³Ό RIPEMD160 ν•΄μ‹κ°€ μ‚¬μ©λλ©° κ·Έ κ²°κ³Ό 160λΉ„νΈμ μ«μκ°€ μƒμ„±λλ‹¤.
  ```
  A = RIPEMD160(SHA256(K)), Kλ” κ³µκ°ν‚¤
  ```
- κ²°κ³Όκ°’ Aλ” κ±°μ ν•­μƒ Base58Checkλ΅ μΈμ½”λ”©λλ‹¤.

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0405.png" width="500">
    <br>
      κ·Έλ¦Ό 4. κ³µκ°ν‚¤λ¥Ό λΉ„νΈμ½”μΈ μ£Όμ†λ΅ λ³€ν™ν•λ” κ³Όμ •
  </figure>

### Base58κ³Ό Base58Check μΈμ½”λ”©

- Base58μ€ μ†λ¬Έμ 26κ°, λ€λ¬Έμ 26κ°, μ«μ 10κ°, λ‘ κ°μ νΉμλ¬Έμ '+', '/' μ΄ 64κ°μ λ¬Έμ(Base64) μ¤‘ κ°€λ…μ„±μ„ μ €ν•΄ν•λ” 4κ°μ λ¬Έμ(0 μ«μ μ, O λ€λ¬Έμ μ¤, l μ†λ¬Έμ μ—, I λ€λ¬Έμ μ•„μ΄)μ™€ νΉμλ¬Έμ(+, -)λ¥Ό μ μ™Έν• 58κ°μ λ¬Έμλ¥Ό κΈ°λ°μΌλ΅ν•λ” 2μ§„λ²• μΈμ½”λ”© ν¬λ§·μ΄λ‹¤.
- Base58Checkλ” μ¤νƒ€, λ°μ΄ν„° μ…λ ¥ μ¤λ¥ λ“±μ— λ€ν• μ¶”κ°€μ μΈ λ³΄μ•μ„ κ°•ν™”ν•κΈ° μ„ν•΄ _μ¤λ¥ κ²€μ‚¬ μ½”λ“κ°€ λ‚΄μ¥λμ–΄ μλ”_ Base58 μΈμ½”λ”© ν¬λ§·μ΄λ‹¤. 
- μ¤λ¥ κ²€μ‚¬ μ½”λ“ νΉμ€ μ²΄ν¬μ„¬μ€ λ°μ΄ν„°μ ν•΄μ‹λ΅λ¶€ν„° νμƒλ 4λ°”μ΄νΈλ΅ λ°μ΄ν„° λ’¤μ— μ¶”κ°€λλ‹¤.
- λ°μ΄ν„°λ¥Ό Base58Check ν¬λ§·μΌλ΅ μ „ν™ν•κΈ° μ„ν•΄μ„λ” λ²„μ „ λ°”μ΄νΈ(version byte)λΌ λ¶λ¦¬λ” μ ‘λ‘μ–΄λ¥Ό λ¶™μΈλ‹¤. μ ‘λ‘μ–΄ κ²°κ³Όκ°’μ΄ νΉμ • λ¬Έμλ¥Ό ν¬ν•¨ν•κΈ° λ•λ¬Έμ— λ°μ΄ν„° μ ν•μ„ μ‰½κ² μ•μ•„λ³Ό μ μλ‹¤.

  | μ ν• | λ²„μ „ μ ‘λ‘μ–΄(16μ§„μ) | Base58 μ ‘λ‘μ–΄ κ²°κ³Όκ°’ |
  | --- | ---------------- | ----------------- |
  | λΉ„νΈμ½”μΈ μ£Όμ†             | 0x00  | 1         | 
  | Pay-to-Script-Address  | 0x05  | 3         |
  | λΉ„νΈμ½”μΈ ν…μ¤νΈλ„· μ£Όμ†      | 0x6F  | m νΉμ€ n   | 
  | κ°μΈν‚¤ WIF(Wallet Import Format) | 0x80  | 5, K νΉμ€ L | 
  | BIP-38 μ•”νΈν™” κ°μΈν‚¤      | 0x0142 | 6P       |
  | BIP-32 ν™•μ¥ κ³µκ°ν‚¤       | 0x0488B21E | xpub |

- μ²΄ν¬μ„¬μ€ μ ‘λ‘μ–΄μ™€ λ°μ΄ν„°λ¥Ό λ‘ λ² SHA256ν• 32λ°”μ΄νΈ κ²°κ³Όκ°’μ μ²« 4λ°”μ΄νΈλ§μ„ μ‚¬μ©ν•λ‹¤. 
  ```
  checksum = SHA256(SHA256(prefix + data))
  ```
- μµμΆ… κ²°κ³Όκ°’μ€ μ ‘λ‘μ–΄, λ°μ΄ν„°, μ²΄ν¬μ„¬μΌλ΅ κµ¬μ„±λλ‹¤. μ΄ κ°’μ„ Base58 μΈμ½”λ”©ν•λ‹¤. 

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/blob/develop/images/mbc3_0406.png" width="500">
    <br>
      κ·Έλ¦Ό 5. Base58Check μΈμ½”λ”©: 
    <br>
      λΉ„νΈμ½”μΈ λ°μ΄ν„°λ¥Ό λ¨νΈν•μ§€ μ•κ² μΈμ½”λ”©ν•κΈ° μ„ν• Base58, λ²„μ „ λ° μ²΄ν¬μ„¬ ν•μ‹
  </figure>

<br>

## ν‚¤ ν¬λ§·

- κ°μΈν‚¤μ™€ κ³µκ°ν‚¤ λ¨λ‘ λ‹¤μ–‘ν• ν•μ‹μΌλ΅ ν‘ν„ν•  μ μλ‹¤.
- μΈμ½”λ”©λ κ²°κ³Όκ°€ λ‹¤λ¥΄κ² λ³΄μΌμ§€λΌλ„ λ¨λ‘ κ°™μ€ μ(κ°μΈν‚¤, κ³µκ°ν‚¤)λ¥Ό μΈμ½”λ”©ν• κ²ƒμ΄λ‹¤. 
- μ΄λ° ν•μ‹μ€ μ£Όλ΅ μ¤λ¥ μ—†μ΄ ν‚¤λ¥Ό μ‰½κ² μ½κ³  μ®κ²¨ μ μ„ μ μλ„λ΅ ν•κΈ° μ„ν•΄ μ‚¬μ©λλ‹¤.

### κ°μΈν‚¤ ν¬λ§·

- κ°μΈν‚¤λ” 256λΉ„νΈλ΅ μ—¬λ¬ ν•μ‹μΌλ΅ ν‘ν„ν•  μ μλ‹¤.
- μ•„λ ν‘λ” μΌλ°μ μΈ μ„Έ κ°€μ§€ κ°μΈν‚¤ ν‘ν„μ‹μ΄λ‹¤.  
- 16μ§„μμ™€ μ›ν•μ€ μ†ν”„νΈμ›¨μ–΄ λ‚΄λ¶€μ—μ„ μ‚¬μ©λκ³  μ‚¬μ©μλ” κ±°μ λ³Ό μ μ—†λ” ν•μ‹μ΄κ³ , WIFλ” μ§€κ°‘κ°„ ν‚¤ κ°€μ Έμ¤κΈ°/λ‚΄λ³΄λ‚΄κΈ°μ— μ‚¬μ©λλ©° κ°μΈν‚¤λ¥Ό QRμ½”λ“λ΅ ν‘ν„ν•λ”λ° μμ£Ό μ‚¬μ©λλ” λ“± μƒν™©μ— λ”°λΌ λ‹¤λ¥Έ ν¬λ§·μ΄ μ‚¬μ©λλ‹¤. 


  | μ ν• | μ ‘λ‘μ–΄ | μ„¤λ… | 
  |-----|------|-----|
  |μ›ν• | μ—†μ | 32λ°”μ΄νΈ |
  |Hex | μ—†μ | 64 μλ¦¬ 16μ§„μ μ«μ | 
  |WIF | 5 | Base58Check μΈμ½”λ”©: λ²„μ „ μ ‘λ‘μ–΄ 0x80(128)κ³Ό 4λ°”μ΄νΈ μ²΄ν¬μ„¬μ„ ν¬ν•¨ν•λ” Base58 |
  |WIF-μ••μ¶•ν•| K λλ” L | μ„μ™€ κ°™μ. μΈμ½”λ”© μ „ μ ‘λ―Έμ–΄ 0x01 μ¶”κ°€ |

  ν‘ 1. κ°μΈν‚¤ ν‘ν„ λ°©μ‹


  | ν¬λ§· | κ°μΈν‚¤ | 
  |-----|-----|
  |Hex | 1e99423a4ed27608a15a2616a2b0e9e52ced330ac530edcc32c8ffc6a526aedd | 
  |WIF| 5J3mBbAH58CpQ3Y5RNJpUKPE62SQ5tfcvU2JpbnkeyhfsYB1Jcn |
  |WIF-μ••μ¶•ν•| KxFC1jmwwCoACiCAWZ3eXa96mBM6tb3TYzGmf6YwgdGWZgawvrtJ |

  ν‘ 2. μ: κ°™μ€ ν‚¤ λ‹¤λ¥Έ ν¬λ§·

- κ° ν¬λ§·μ΄ κ°™μ€ μλ¥Ό ν‘ν„ν•λ” κ²ƒμ„μ„ ν™•μΈν•κΈ° μ„ν•΄ Bitcoin Explorer `bx` λ…λ Ήμ¤„ λ„κµ¬λ¥Ό μ‚¬μ©ν•΄ λ³Ό μ μλ‹¤.
  - `wif-to-ec`λ΅ μ••μ¶•/λΉ„μ••μ¶• WIFκ°€ κ°™μ€ Hexλ¥Ό λ‚νƒ€λ‚΄λ”μ§€ ν™•μΈν•  μ μλ‹¤.
  - `base58-check-decode`λ΅ μ••μ¶•/λΉ„μ••μ¶• WIFλ¥Ό Hexλ΅ λ””μ½”λ”©ν•  μ μλ‹¤.
  - `base58-check-encode`λ¥Ό μ‚¬μ©ν•μ—¬ μ ‘λ―Έμ–΄ μ λ¬΄μ— λ”°λΌ μ••μ¶•/λΉ„μ••μ¶• WIFλ΅ μΈμ½”λ”©ν•  μ μλ‹¤. 


### κ³µκ°ν‚¤ ν¬λ§·

- κ³µκ°ν‚¤λ„ μ—¬λ¬ ν•μ‹μΌλ΅ ν‘ν„λλ”λ° μ••μ¶• κ³µκ°ν‚¤μ™€ λΉ„μ••μ¶• κ³µκ°ν‚¤κ°€ μ£Όμ” ν‘ν„λ²•μ΄λ‹¤.
- κ³µκ°ν‚¤λ” νƒ€μ› κ³΅μ„  μ„μ (x, y) μΆν‘μ„μ„ μƒκΈ°ν•μ.
- κ³µκ°ν‚¤λ” μ ‘λ‘μ–΄ 04μ™€ κ·Έ μ„μ— λ”°λΌμ¤λ” 256λΉ„νΈ μ«μ 2κ°λ΅ κµ¬μ„±λλ©° κ° xμ™€ y κ°’μ΄λ‹¤. 
- μ ‘λ‘μ–΄ 04λ” λΉ„μ••μ¶• κ³µκ°ν‚¤, 02 λλ” 03μ€ μ••μ¶• κ³µκ°ν‚¤λ¥Ό λ‚νƒ€λ‚Έλ‹¤. 


  κ³µκ°ν‚¤ (x, y) μΆν‘
  ```
  x = F028892BAD7ED57D2FB57BF33081D5CFCF6F9ED3D3D7F159C2E2FFF579DC341A
  y = 07CF33DA18BD734C600B96A72BBC4749D5141C90EC8AC328AE52DDFE2E505BDB
  ```


  520λΉ„νΈ κ³µκ°ν‚¤ K = 04 x y ν•μ‹
  ```
  K = 04F028892BAD7ED57D2FB57BF33081D5CFCF6F9ED3D3D7F159C2E2FFF579DC341Aβ†µ
  07CF33DA18BD734C600B96A72BBC4749D5141C90EC8AC328AE52DDFE2E505BDB
  ```

### μ••μ¶• κ³µκ°ν‚¤

- κ±°λ ν¬κΈ°λ¥Ό μ¤„μ΄κ³  λ…Έλ“μ λ””μ¤ν¬ κ³µκ°„μ„ μ μ•½ν•κΈ° μ„ν•΄ μ••μ¶• κ³µκ°ν‚¤κ°€ λΉ„νΈμ½”μΈμ— λ„μ…λμ—λ‹¤.
  - λ€λ¶€λ¶„μ κ±°λμ—λ” κ³µκ°ν‚¤κ°€ ν¬ν•¨λμ–΄ μλ”λ° μ΄λ” κ°κ° 520λΉ„νΈ κ³µκ°„μ„ ν•„μ”λ΅ ν•λ‹¤.
  - λΈ”λ΅λ‹Ή μλ°± κ°μ κ±°λκ°€ μ¦κ°€ν•μ—¬ λ§¤μΌ μλ§ κ°μ κ±°λκ°€ μƒκ²¨λ‚λ©΄ λΈ”λ΅μ²΄μΈμ— μ–΄λ§μ–΄λ§ν• ν¬κΈ°μ λ°μ΄ν„°κ°€ μƒκ²¨λ‚λ‹¤.
- νƒ€μ› κ³΅μ„  ν•¨μ $y^{2} \ mod \ p = (x^{3} + 7) \ mod \ p$μ— x κ°’μ„ λ€μ…ν•΄ y μΆν‘λ¥Ό κ³„μ‚°ν•  μ μκΈ° λ•λ¬Έμ— xμΆν‘λ§ μ €μ¥ν•¨μΌλ΅μ¨ κ³µκ°ν‚¤ μ €μ¥μ— ν•„μ”ν• 256λΉ„νΈ κ³µκ°„μ„ μ¤„μΌ μ μλ‹¤. 
- λΉ„μ••μ¶• κ³µκ°ν‚¤λ” 02 λλ” 03μΌλ΅ μ‹μ‘ν•λ‹¤.
- λ°©μ •μ‹μ μ™Όμ½ν•­μ€ $y^{2}$λ΅, yλ” μμμ™€ μ–‘μ λ‘ κ°’μ„ κ°€μ§ μ μκΈ° λ•λ¬Έμ— μ ‘λ‘μ–΄κ°€ 2κ°κ°€ λ  μ μλ‹¤.
- μ†μμ„μ pμ μ ν• μ²΄μ  μƒμ—μ„ 2μ§„λ²• μ—°μ‚°μ νƒ€μ› κ³΅μ„ μ„ κ³„μ‚°ν•λ” κ²½μ° y κ°’μ€ μ§μμ΄κ±°λ‚ ν™€μμ΄λ‹¤. μ§μλ” μ–‘μ, ν™€μλ” μμμ— λ€μ‘λλ‹¤. 
- y κ°’μ΄ μ§μμΈ κ²½μ° 02, ν™€μμΈ κ²½μ° 03λ¥Ό μ ‘λ‘μ–΄λ΅ μ••μ¶• κ³µκ°ν‚¤λ¥Ό μ €μ¥ν•μ—¬ μ†ν”„νΈμ›¨μ–΄κ°€ x κ°’μΌλ΅ μ •ν™•ν• y κ°’μ„ μ¶”λ΅ ν•  μ μλ„λ΅ ν•λ‹¤. 

  254λΉ„νΈ μ••μ¶• κ³µκ°ν‚¤ K = 03 y ν•μ‹
  ```
  K = 03F028892BAD7ED57D2FB57BF33081D5CFCF6F9ED3D3D7F159C2E2FFF579DC341A
  ```

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0407.png" width="400">
    <br>
      κ·Έλ¦Ό 6. κ³µκ°ν‚¤ μ••μ¶•
  </figure>

- μ••μ¶• κ³µκ°ν‚¤λ¥Ό μ΄μ¤‘ ν•΄μ‹ ν•¨μ(`RIPEMD160(SHA256(K))`)λ¥Ό μ΄μ©ν•΄ λ³€ν™ν•κ² λλ©΄ λΉ„μ••μ¶• κ³µκ°ν‚¤λ¥Ό λ³€ν™ν• λΉ„νΈμ½”μΈ μ£Όμ†μ™€ λ‹¤λ¥΄λ‹¤. 
- μ••μ¶• κ³µκ°ν‚¤λ” μ μ°¨ λΉ„νΈμ½”μΈ ν΄λΌμ΄μ–ΈνΈμ—μ„ κΈ°λ³Έκ°’μ΄ λμ–΄κ°€κ³  μμ§€λ§ λ¨λ“  ν΄λΌμ΄μ–ΈνΈκ°€ μ••μ¶• κ³µκ°ν‚¤λ¥Ό μ§€μ›ν•λ” κ²ƒμ€ μ•„λ‹λ‹¤.
- μ••μ¶• κ³µκ°ν‚¤λ¥Ό μ§€μ›ν•λ” μµμ‹  ν΄λΌμ΄μ–ΈνΈλ” μ••μ¶• κ³µκ°ν‚¤λ¥Ό μ§€μ›ν•μ§€ μ•λ” κµ¬ν• ν΄λΌμ΄μ–ΈνΈμ νΈλμ­μ…μ„ κ³ λ ¤ν•΄μ•Ό ν•λ‹¤. 
- νΉν μ§€κ°‘ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ κ°μΈν‚¤λ΅λ¶€ν„° λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό λ¶λ¬μ™€ μ΄μ— λ€μ‘ν•λ” κ±°λλ¥Ό μ°ΎκΈ° μ„ν•΄ λΈ”λ΅μ²΄μΈμ„ κ²€μƒ‰ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— μ¤‘μ”ν•λ‹¤. λ¨λ‘ μ ν¨ν• λΉ„νΈμ½”μΈ μ£Όμ†μ΄κ³  κ°μΈν‚¤λ΅ μ„λ…λ„ ν•  μ μμ§€λ§ μ΄ λ‘μ€ μ„λ΅ λ‹¤λ¥Έ μ£Όμ†μ΄λ‹¤. 
- μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μ§€κ°‘μ—μ„ κ°μΈν‚¤λ¥Ό λ‚΄λ³΄λ‚Ό λ• μ΄λ¥Ό λ‚νƒ€λ‚΄κΈ° μ„ν•΄ μ‚¬μ©λ WIFκ°€ μµμ‹  λΉ„νΈμ½”μΈ μ§€κ°‘μ—μ„λ” λ‹¤λ¥΄κ² κµ¬ν„λλ‹¤. 
- μ΄λ ‡κ² ν•¨μΌλ΅μ¨ κ°€μ Έμ¨ μ§€κ°‘μ΄ μ••μ¶• κ³µκ°ν‚¤λ¥Ό μ§€μ›ν•λ” μµμ‹  μ§€κ°‘μ—μ„ μƒμ„±λ κ°μΈν‚¤μΈμ§€ κµ¬λ¶„ν•μ—¬ μ¬λ°”λ¥Έ κ³µκ°ν‚¤ ν•μ‹μΌλ΅λ¶€ν„° λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό λ„μ¶ν•μ—¬ ν•΄λ‹Ή νΈλμ­μ…μ„ κ²€μƒ‰ν•  μ μλ‹¤.

### μ••μ¶• κ°μΈν‚¤

- μ—­μ„¤μ μ΄κ²λ„ <u>μ••μ¶• κ°μΈν‚¤</u>λΌλ” μ©μ–΄λ” **μλ»λ λ…μΉ­**μ΄λ‹¤.
- WIF μ••μ¶•λ κ°μΈν‚¤λ” μ••μ¶•λμ§€ μ•μ€ κ°μΈν‚¤λ³΄λ‹¤ 1λ°”μ΄νΈ λ” κΈΈκΈ° λ•λ¬Έμ΄λ‹¤. 
- μ••μ¶• κ°μΈν‚¤μ—λ” 1λ°”μ΄νΈ μ ‘λ―Έμ‚¬κ°€ μ¶”κ°€λμ–΄ μμΌλ©°, μ΄λ” κ°μΈν‚¤κ°€ μµμ‹  μ§€κ°‘μ—μ„ κ°€μ Έμ¨ κ²ƒμ΄λ©° μ••μ¶• κ³µκ°ν‚¤λ¥Ό μƒμ„±ν•λ”λ°λ§ μ‚¬μ©ν•΄μ•Όν•¨μ„ μλ―Έν•λ‹¤. 
- κ°μΈν‚¤ μμ²΄λ” μ••μ¶•λμ§€ μ•μΌλ©°, μ••μ¶•ν•  μλ„ μ—†λ‹¤. 
- μ••μ¶• κ°μΈν‚¤λ” "μ••μ¶• κ³µκ°ν‚¤λ§ νμƒλμ–΄μ•Ό ν•λ” κ°μΈν‚¤"λ¥Ό μλ―Έν•λ‹¤. (μ••μ¶•λμ§€ μ•μ€ κ°μΈν‚¤λ” "λΉ„μ••μ¶• κ³µκ°ν‚¤λ§ νμƒλμ–΄μ•Ό ν•λ” κ°μΈν‚¤")
- νΌλ™μ„ ν”Όν•κΈ° μ„ν•΄ λ‚΄λ³΄λ‚΄κΈ° ν•μ‹μ„ "WIF-μ••μ¶•ν•" λλ” "WIF"λ΅λ§ μ–ΈκΈ‰ν•κ³  κ°μΈν‚¤ μμ²΄λ¥Ό "μ••μ¶•"μ΄λΌκ³  ν•μ§€ μ•μ•„μ•Ό ν•λ‹¤. 


  | ν¬λ§· | κ°μΈν‚¤ | 
  |-----|-----|
  |Hex | 1E99423A4ED27608A15A2616A2B0E9E52CED330AC530EDCC32C8FFC6A526AEDD | 
  |WIF| 5J3mBbAH58CpQ3Y5RNJpUKPE62SQ5tfcvU2JpbnkeyhfsYB1Jcn |
  |Hex-μ••μ¶•ν•| 1E99423A4ED27608A15A2616A2B0E9E52CED330AC530EDCC32C8FFC6A526AEDD01 |
  |WIF-μ••μ¶•ν•| KxFC1jmwwCoACiCAWZ3eXa96mBM6tb3TYzGmf6YwgdGWZgawvrtJ |

  ν‘ 3. μ: κ°™μ€ ν‚¤ λ‹¤λ¥Έ ν¬λ§·

- 16μ§„μ(Hex) μ••μ¶• κ°μΈν‚¤ ν•μ‹μ€ λμ— 1λ°”μ΄νΈκ°€ μ¶”κ°€λλ‹¤. (01)
- Base58Check λ²„μ „ μ ‘λ‘μ‚¬λ” WIFμ™€ WIF μ••μ¶• ν•μ‹μ—μ„ λ¨λ‘ λ™μΌν•μ§€λ§(0x80) λμ— 1λ°”μ΄νΈκ°€ μ¶”κ°€λλ©΄ Base58 μΈμ½”λ”©μ μ²« λ¬Έμκ°€ 5μ—μ„ K λλ” Lλ΅ λ³€κ²½λλ‹¤. 
- μ΄λ¬ν• ν•μ‹μ€ μ„λ΅ λ°”κΏ”μ„ μ‚¬μ©ν•  μ μ—†λ‹¤. 

<br>

## κ³ κΈ‰ν‚¤μ™€ μ£Όμ†

### Pay-to-Script-Hash(P2SH)μ™€ λ‹¤μ¤‘μ„λ… μ£Όμ†

- 3μΌλ΅ μ‹μ‘ν•λ” μ£Όμ†λ” pay-to-script hash(P2SH) μ£Όμ†μ΄λ©°, λ•λ΅ λ‹¤μ¤‘μ„λ… μ£Όμ† νΉμ€ λ©€ν‹°μ‹κ·Έ μ£Όμ†λΌκ³  μλ» λ¶λ¦¬κΈ°λ„ ν•λ‹¤. 
- P2SH μ£Όμ†λ” λΉ„νΈμ½”μΈ κ±°λμ μλ ΉμΈμ„ κ³µκ°ν‚¤μ μ†μ μ£Όκ°€ μ•„λ‹ μ¤ν¬λ¦½νΈ ν•΄μ‹λ΅ μ§€μ •ν•λ‹¤. (μ°Έκ³  BIP-16)
- P2SH μ£Όμ†λ¥Ό μΈμ½”λ”©ν•λ ¤λ©΄ μ¤ν¬λ¦½νΈλ¥Ό μ΄μ¤‘ ν•΄μ‹ν•λ‹¤. 
  
  ```
  script hash = RIPEMD160(SHA256(script))
  ```
- script hashλ” λ²„μ „ μ ‘λ‘μ–΄ 5λ¥Ό λ¶™μ—¬ Base58Check μΈμ½”λ”©λλ©° κ·Έ κ²°κ³Ό 3μΌλ΅ μ‹μ‘ν•λ” μ£Όμ†κ°€ λλ‹¤. 


### λ‹¤μ¤‘μ„λ… μ£Όμ†μ™€ P2SH

- ν„μ¬ P2SH κΈ°λ¥μ κ°€μ¥ μΌλ°μ μΈ κµ¬ν„μ€ λ‹¤μ¤‘ μ„λ… μ£Όμ† μ¤ν¬λ¦½νΈμ΄λ‹¤. 
- μ΄λ¦„μ—μ„ μ• μ μλ“―μ΄ μ†μ κ¶μ„ μ¦λ…ν•΄ λμ„ μ†λΉ„ν•κΈ° μ„ν•΄μ„λ” μµμ†ν•μ μ„λ…μ΄ ν•„μ”μ΄ ν•„μ”ν•λ‹¤.
- λΉ„νΈμ½”μΈ λ‹¤μ¤‘ μ„λ… κΈ°λ¥μ€ μ΄ Nκ°μ ν‚¤μ—μ„ Mκ°(μ„κ³„κ°’, threshold)μ μ„λ…μ„ μ”κµ¬ν•λ„λ΅ μ„¤κ³„λμ—μΌλ©°, M-of-N λ‹¤μ¤‘ μ„λ…μ΄λΌκ³  ν•λ‹¤. 


### Vanity μ£Όμ†

- Vanity μ£Όμ†λ” μ‚¬λμ΄ μ½μ„ μ μλ” λ©”μ‹μ§€λ¥Ό ν¬ν•¨ν•λ” λΉ„νΈμ½”μΈ μ£Όμ†μ΄λ‹¤. 
- μλ¥Ό λ“¤μ–΄, 1LoveBPzzD72PUXLzCkYAtGFYmK5vYNR33μ€ "Love"λΌλ” λ‹¨μ–΄λ¥Ό κµ¬μ„±ν•λ” κΈ€μλ¥Ό μ²μ λ„¤ κ°μ Base58 λ¬Έμλ΅ ν¬ν•¨ν•λ” μ ν¨ν• μ£Όμ†μ΄λ‹¤.
- μ΄ μ£Όμ†λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ μ›ν•λ” ν¨ν„΄μ λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό μ°Ύμ„ λ•κΉμ§€ μμ‹­μ–µ κ°μ κ°μΈν‚¤λ¥Ό μƒμ„±ν•΄λ³΄λ” λ°–μ— μ—†λ‹¤.
- Vanity μƒμ„± μ•κ³ λ¦¬μ¦μ—λ” λ‡ κ°€μ§€ μµμ ν™” κΈ°λ¥μ΄ μμ§€λ§, μ΄ κ³Όμ •μ€ κΈ°λ³Έμ μΌλ΅ κ°μΈν‚¤λ¥Ό λ¬΄μ‘μ„λ΅ μ„ νƒν•κ³ , κ³µκ°ν‚¤λ¥Ό λ„μ¶ν•κ³ , λΉ„νΈμ½”μΈ μ£Όμ†λ¥Ό λ„μ¶ν•κ³ , μ›ν•λ” ν¨ν„΄κ³Ό μΌμΉν•λ”μ§€ ν™•μΈν•λ” κ³Όμ •μ„ μμ‹­μ–µ λ² λ°λ³µν•μ—¬ μΌμΉν•λ” κ²ƒμ„ μ°Ύμ„ λ•κΉμ§€ λ°λ³µν•λ” κ²ƒμ΄λ‹¤. 
- μ›ν•λ” ν¨ν„΄κ³Ό μΌμΉν•λ” Vanity μ£Όμ†λ¥Ό μ°ΎμΌλ©΄, μ†μ μλ” μ΄ μ£Όμ†λ¥Ό νμƒμ‹ν‚¨ κ°μΈν‚¤λ΅ λΉ„νΈμ½”μΈμ„ μ‚¬μ©ν•  μ μλ‹¤. (λ‹¤λ¥Έ μ£Όμ†μ™€ λ™μΌν• λ°©μ‹μ΄λ‹¤.)
- Vanity μ£Όμ†λ” λ‹¤λ¥Έ μ£Όμ†μ™€ λ™λ“±ν• μμ¤€μΌλ΅ μ•μ „ν•λ‹¤. λ™μΌν• νƒ€μ› κ³΅μ„  μ•”νΈν™”(ECC) λ° SHAλ¥Ό κΈ°λ°μΌλ΅ ν•κΈ° λ•λ¬Έμ΄λ‹¤. 

  > π’΅ Vanity
  >
  > μλ‹¨μ–΄ μμ²΄λ” μλ§μ‹¬, ν—›λ¨, μλ§μ΄λΌλ” λ»μ΄μ§€λ§, μ—¬κΈ°μ„λ” vanity table(ν™”μ¥λ€)κ³Ό κ°™μ€ μ“°μ„μΌλ΅ 'μ›ν•λ” νΉμ • λ¬Έκµ¬λ΅ μ‹μ‘ν•λ„λ΅ κΎΈλ©°μ§„ μ£Όμ†'λΌκ³  μ΄ν•΄ν•λ” κ²ƒμ΄ μ λ‹Ήν•λ‹¤. μ΄ν• λ‹¨λ½μ—μ„ 'κΎΈλ―ΈκΈ° μ£Όμ†', 'λ°°λ‹ν‹° μ£Όμ†' λ“±μ μ–΄μƒ‰ν• ν•κΈ€ν™” λ€μ‹  [vanity μ£Όμ†]λΌκ³  μΉ­ν•μ€λ‹¤. 

#### Vanity μ£Όμ† μƒμ„±ν•κΈ° 

- λΉ„νΈμ½”μΈ μ£Όμ†λ” Base58 μ•νλ²³ κΈ°νΈλ΅ ν‘μ‹λλ” μ«μμΌ λΏμ„μ„ κΈ°μ–µν•μ.
- ν•„λ¦¬ν•€ μ•„λ™ μμ„ λ‹¨μ²΄κ°€ κΈ°λ¶€κΈμ„ λ¨μ§‘ν•  λ• '1Kids'λ΅ μ‹μ‘ν•λ” μ£Όμ†λ¥Ό μ‚¬μ©ν•κ³ μ ν•λ‹¤κ³  ν•μ.
- 1Kidsλ΅ μ‹μ‘ν•λ” μ£Όμ†λ¥Ό κ²€μƒ‰ν•λ” κ²ƒμ€ 1Kids11111111111111111111111111111λ¶€ν„° 1KidszzzzzzzzzzzzzzzzzzzzzzzzzzzzzκΉμ§€μ λ²”μ„λ¥Ό κ²€μƒ‰ν•λ” κ²ƒμΌλ΅ λ³Ό μ μλ‹¤. 
- μ΄ λ²”μ„μ—λ” "1Kids"λ΅ μ‹μ‘ν•λ” μ•½ 5,829κ°(μ•½ $1.4 * 10^{51}$κ°)μ μ£Όμ†κ°€ μλ‹¤.
- μΌλ° λ°μ¤ν¬νƒ‘μ μ„±λ¥μΌλ΅ μ΄λ‹Ή μ•½ 10λ§ κ°μ ν‚¤λ¥Ό κ²€μƒ‰ν•  μ μλ‹¤κ³  ν–μ„ λ•, μ›ν•λ” μ£Όμ†λ¥Ό μ–»κΈ° μ„ν•΄ κ±Έλ¦¬λ” μ‹κ°„μ„ κ³„μ‚°ν•λ©΄ μ•„λ ν‘ 4μ™€ κ°™λ‹¤. 
- ν¨ν„΄μ΄ ν• κΈ€μ μ¶”κ°€λ  λ•λ§λ‹¤ 58λ°° μ”© λ‚μ΄λ„κ°€ μ¦κ°€ν•λ‹¤. λ”°λΌμ„, μμ² λ€μ μ»΄ν“¨ν„°λ¥Ό μ‚¬μ©ν•λ‹¤ ν•΄λ„ 1KidsCharityλ΅ μ‹μ‘ν•λ” μ£Όμ†λ¥Ό λΉ λ¥΄κ² μƒμ„±ν•λ” κ²ƒμ€ λ¶κ°€λ¥ν•λ‹¤.  
 
  | κΈΈμ΄ | ν¨ν„΄ | λΉλ„ | ν‰κ·  κ²€μƒ‰ μ‹κ°„ |
  | --- | --- | --- | ----------- |
  | 1   | 1K  | 58κ° μ¤‘ ν•λ‚ | 1ms λ―Έλ§      |
  | 2   | 1Ki  | 3,385κ° μ¤‘ ν•λ‚ | 50ms λ―Έλ§ |
  | 3   | 1Kid | 195,000κ° μ¤‘ ν•λ‚| 2μ΄ λ―Έλ§  |
  | 4   | 1Kids  | 1,100λ§ κ° μ¤‘ ν•λ‚  | 1λ¶„  |
  | 5   | 1KidsC  | 6μ–µ 5600λ§ κ° μ¤‘ ν•λ‚  | 1μ‹κ°„ |
  | 6   | 1KidsCh  | 380μ–µ κ° μ¤‘ ν•λ‚  | 2μΌ |
  | 7   | 1KidsCha  | 2.2μ΅° κ° μ¤‘ ν•λ‚  | 3-4 κ°μ›” |
  | 8   | 1KidsChar  | 128μ΅° κ° μ¤‘ ν•λ‚  | 13-18 λ…„ |
  | 9   | 1KidsChari  | 7000μ΅° κ° μ¤‘ ν•λ‚  | 800 λ…„ |
  | 10  | 1KidsCharit  | 400κ²½ κ° μ¤‘ ν•λ‚ | 46,000 λ…„ |
  | 11  | 1KidsCharity  | 2300κ²½ κ° μ¤‘ ν•λ‚  | 250λ§ λ…„ |

  ν‘ 4. λ°μ¤ν¬νƒ‘ PCμ—μ„ Vanity ν¨ν„΄ ν‰κ·  κ²€μƒ‰ μ†μ” μ‹κ°„


#### Vanity μ£Όμ† λ³΄μ•

- Vanity μ£Όμ†λ” μ–‘λ‚ μ μΉΌκ³Ό κ°™λ‹¤.
- λ…νΉν• μ£Όμ†λ¥Ό μ‚¬μ©ν•λ©΄ μ£Όμ† μ‹λ³„μ΄ λ³΄λ‹¤ λ…ν™•ν•κΈ° λ•λ¬Έμ— κ³µκ²©μκ°€ λΉ„μ·ν• μ£Όμ†λ΅ λ‹Ήμ‹ μ κ³ κ°μ„ μ†μ΄λ” κ²ƒμ΄ μ–΄λ ¤μ›μ§€μ§€λ§, λ°λ€λ΅ λ„κµ¬λ‚ λΉ„μ·ν• ν¨ν„΄μ μ£Όμ†λ¥Ό λ¬΄μ‘μ„λ΅ λ§λ“¤μ–΄μ„ μ†μ΄λ” μΌλ„ κ°€λ¥ν•΄μ§„λ‹¤. 
- μμ„ λ‹¨μ²΄μ κΈ°λ¶€κΈ μ£Όμ†λ΅ 1Kidsλ΅ μ‹μ‘ν•λ” vanity μ£Όμ† 1Kids33q44erFfpeXrmDSz7zEqG2FesZENλ¥Ό μƒμ„±ν–λ‹¤κ³  κ°€μ •ν•μ. 
- κΈ°λ¶€μλ“¤μ€ μ΄ μ£Όμ†μ ν¨ν„΄ 1Kidsμ™€ κ·Έ λ’¤μ— λ‚μ¤λ” λ‡ κΈ€μλ¥Ό μ‚΄ν΄λ³΄κ³  μ£Όμ†κ°€ λ§λ”μ§€ ν™•μΈν•  κ²ƒμ΄λ‹¤. μλ¥Ό λ“¤μ–΄, 1Kids33κΉμ§€ ν™•μΈν•λ‹¤.
- μ΄λ° μ μ„ μ΄μ©ν•΄ κ³µκ²©μλ” μµμ† μ—¬μ„― κΈ€μκΉμ§€ μΌμΉν•λ” μ£Όμ†λ¥Ό μƒμ„±ν•  μ μλ‹¤.
- κ³µκ²©μλ” λ‘ κΈ€μ μ •λ„ μ¶”κ°€λ ν¨ν„΄μ„ μ°Ύμ•„μ•Όν•κΈ° λ•λ¬Έμ— μ›λμ vanity μ£Όμ†λ¥Ό λ§λ“λ”λ° λ“¤μΈ κ²ƒλ³΄λ‹¤ λ” μ‹κ°„μ„ λ“¤μ΄κ² λλ‹¤. 
- λ§μ•½ 8 κΈ€μκ°€ ν¬ν•¨λ vanity μ£Όμ†λ¥Ό μ‚¬μ©ν•λ” κ²½μ°, κ³µκ²©μλ” 10μ μ •λ„μ μ£Όμ†λ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ”λ° μ΄λ” μ„ ν‘ 4μ—μ„ λ³Έ κ²ƒμ²λΌ κ°μΈμ© μ»΄ν“¨ν„°λ΅λ” μ‹¤ν–‰ λ¶κ°€λ¥ν•λ‹¤. 

### μΆ…μ΄ μ§€κ°‘

- μΆ…μ΄ μ§€κ°‘μ€ κ°μΈν‚¤λ¥Ό μΈμ‡„ν•΄ λ†“μ€ κ²ƒμ΄λ‹¤.
- μΆ…μ΄ μ§€κ°‘μ€ λ³΄ν†µ μ£Όμ†μ™€ κ°μΈν‚¤μ QRμ½”λ“λ¥Ό λ§λ“¤μ–΄ μ¤€λ‹¤. 
- μΆ…μ΄ μ§€κ°‘μ€ λ„λ‚μ— μ·¨μ•½ν•λ‹¤. λ”°λΌμ„, μΆ…μ΄ μ§€κ°‘μ„ λ°±μ—…μΌλ΅ μ‚¬μ©ν•λ” μ‚¬μ©μλ” ν¨μ¤ν”„λ μ΄μ¦(passphrase)λ¥Ό μ μ©ν•μ—¬ κ°μΈν‚¤λ¥Ό μ•”νΈν™”(encryption)ν•λ„λ΅ κ¶μ¥λλ‹¤.

  <figure>
    <img src="https://github.com/bitcoinbook/bitcoinbook/raw/develop/images/mbc2_0412.png" width="650">
    <br>
      κ·Έλ¦Ό 7. λ°±μ—…μ© μΉΈμ— ν‚¤μ λ³µμ‚¬λ³Έμ„ μΈμ‡„ν•΄ λ†“μ€ μΆ…μ΄ μ§€κ°‘ μ
  </figure>
